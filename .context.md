# MetaPrompter 项目全局上下文

## 项目概览
MetaPrompter 是一个帮助用户生成与优化 LLM prompt 的工具，旨在提高用户与大语言模型交互的效率和效果。

## 技术栈
- **前端**：Vue3 + Vite + ElementPlus + TypeScript + Pinia + Vue Router
- **后端**：Django 5.2.6 + Django REST Framework 3.15.2
- **数据库**：开发环境使用 SQLite，生产环境计划使用 MySQL
- **LLM 应用框架**：LangChain 0.2.16 + OpenAI Python SDK 1.40.6
- **依赖管理**：前端使用 npm，后端使用 uv + pyproject.toml

## 项目架构设计
### 前端架构
- 采用 Vue3 组合式 API 和 TypeScript
- 使用 Vite 作为构建工具
- 使用 ElementPlus 提供 UI 组件
- 使用 Vue Router 进行路由管理
- 使用 Pinia 进行状态管理
- 采用 Axios 进行前后端通信

### 后端架构
- 采用 Django REST Framework 构建 RESTful API
- 使用 Django ORM 与数据库交互
- 集成了 LangChain 实现 LLM 相关功能
- 模块化设计，已创建 prompt 应用，并将 LLM 功能集成到其中
- 在 prompt 应用中创建了 llm_utils 子目录，专门用于存放 LLM 相关的配置、模板和服务
- 使用 pyproject.toml 和 uv 进行依赖管理
- 配置了环境变量管理（dotenv），支持 LLM API 密钥等敏感信息配置

## 开发流程
- 采用 "计划 - 对齐 - 开发" 的工作流程
- 优先开发后端核心功能，最后开发前端
- 阶段式开发：架构搭建 -> 核心功能开发 -> 前端开发 -> 测试与部署

## 当前项目状态
### 已完成的工作
- 初始化了 Django 后端项目
- 创建了 pyproject.toml 文件并配置了项目依赖（包括 LangChain 和 OpenAI SDK）
- 配置了 uv 虚拟环境
- 创建了核心应用 prompt
- 配置了 Django REST Framework
- 设计并实现了三个核心数据模型：Prompt、PromptHistory 和 PromptStatistics
- 创建并应用了数据库迁移
- 实现了基于 DRF 的 RESTful API，支持 Prompt 的 CRUD 操作
- 配置了环境变量管理，包括 LLM 相关配置
- 在 prompt 应用中创建了 llm_utils 目录结构
- 实现了 LLM 配置管理（config.py）
- 实现了提示词模板管理（template_manager.py）
- 实现了 LLM 服务封装，包括 Prompt 生成、优化、评估等功能（service.py）
- 将 LLM 功能集成到现有的 prompt API 中，添加了 generate、optimize 和 evaluate 接口
- 更新了数据模型以支持新功能（添加了 generation_count 字段，扩展了 operation_type 选项）
- 应用了数据库迁移
- 创建了项目文档（README.md）
- 成功启动开发服务器并验证了 API 端点

### 待开发的工作
- 初始化前端项目
- 实现前端界面和交互逻辑
- 完成前后端集成
- 完善测试用例
- 部署到生产环境

## 功能模块
1. **Prompt 管理模块**：
   - 已实现：创建、编辑、保存、删除 Prompt 的 API
   - 待实现：前端界面、高级过滤和排序功能

2. **Prompt 生成模块**：
   - 已实现：基于需求描述的智能 Prompt 生成算法和 API
   - 已实现：基于模板的 Prompt 生成
   - 待实现：前端界面

3. **Prompt 优化模块**：
   - 已实现：基于 LLM 的 Prompt 优化建议生成算法和 API
   - 已实现：Prompt 评估和分析算法
   - 待实现：前端界面

4. **历史记录模块**：
   - 已实现：历史记录数据模型和只读 API
   - 待实现：前端界面、高级查询功能

5. **统计分析模块**：
   - 已实现：统计数据模型和只读 API
   - 待实现：数据分析算法、可视化界面

## 子模块上下文列表
- [前端模块上下文](frontend/.context.md) - 包含前端技术栈、目录结构、核心功能和开发规范
- [后端模块上下文](backend/.context.md) - 包含后端技术栈、目录结构、核心功能和开发规范
- [示例代码模块上下文](examples/README.md) - 包含API调用示例代码和使用说明